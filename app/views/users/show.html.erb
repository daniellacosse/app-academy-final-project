<section class="user-info">

  <%# TEMPORARY SOLUTION: %>
  <% if @user.avatar_isnt_empty %>
    <img src="<%= @user.avatar.url(:thumb) %>">
  <% end %>

  <h2 class="username">
    <%= @user.username %>
  </h2>

  <%= render partial: "likes/button", locals: {
    type: "User",
    set: current_user.followed_users,
    target: @user,
    owner: @user
  } %>

  <% unless current_user.id == @user.id %>
    <%= link_to 'write message', new_user_message_url(@user) %>
  <% end %>

  <p class="views-and-likes">
    <%= @user.views.count %> views | <%= @user.likes.count %> likes
  </p>

  <% if @user.entire_name_isnt_nil_or_empty  %>
    <p class="name">
      <%= @user.first_name if @user.first_name %>
      <%= @user.last_name if @user.last_name %>
    </p>
  <% end %>

  <p class="email">
    <a href="mailto:<%= @user.email %>"><%= @user.email %></a>
  </p>

  <% if @user.gender  %>
    <p class="gender">
      <%= @user.gender %>
    </p>
  <% end %>

  <p class="metadata dob">
    <%= @user.date_of_birth.strftime("%B %e, %Y") %>
  </p>

  <% if @user.country_isnt_nil_or_empty %>
    <p class="location">
      <%= @user.country %>
    </p>
  <% end %>

  <% if @user.biography_isnt_nil_or_empty %>
    <p class="biography">
      <h3>About:</h3>
      <%= @user.biography %>
    </p>
  <% end %>
</section>

<section class="journals-and-galleries">
  <ul>
    <li>
      <a href="<%= user_journals_url(@user) %>">
        <% if @user.first_name_isnt_nil_or_empty %>
          <%= @user.first_name %>'s
        <% elsif @user.last_name_isnt_nil_or_empty %>
          <%= @user.last_name %>'s
        <% end %>

        Journals: (<%= @user.journals.count %>)

      </a>
    </li>

    <li>
      <a href="<%= user_galleries_url(@user) %>">
        <% if @user.first_name_isnt_nil_or_empty %>
          <%= @user.first_name %>'s
        <% elsif @user.last_name_isnt_nil_or_empty %>
          <%= @user.last_name %>'s
        <% end %>

        Galleries
      </a>
    </li>
  </ul>
</section>

<section class="deviations main-content">
  <%= render @user.deviations %>
</section>
